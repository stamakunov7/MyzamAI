# üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–æ—Å—Ç—É–ø–∞ –∫ Llama 3

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
ERROR: You are trying to access a gated repo.
Access to model meta-llama/Meta-Llama-3-8B-Instruct is restricted.
```

**Meta Llama 3 - —ç—Ç–æ –∑–∞–∫—Ä—ã—Ç–∞—è –º–æ–¥–µ–ª—å** (gated repository), —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Llama 3 (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç HuggingFace

1. –ü–µ—Ä–µ–π–¥–∏ –Ω–∞ https://huggingface.co/join
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Å—è (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)

### –®–∞–≥ 2: –ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ Llama 3

1. –û—Ç–∫—Ä–æ–π https://huggingface.co/meta-llama/Meta-Llama-3-8B-Instruct
2. –ù–∞–∂–º–∏ **"Request access"**
3. –ü—Ä–∏–º–∏ –ª–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ Meta
4. –ü–æ–¥–æ–∂–¥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è (–æ–±—ã—á–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω

1. –ü–µ—Ä–µ–π–¥–∏ –≤ https://huggingface.co/settings/tokens
2. –ù–∞–∂–º–∏ **"New token"**
3. –í—ã–±–µ—Ä–∏ **"Read"** permissions
4. –°–∫–æ–ø–∏—Ä—É–π —Ç–æ–∫–µ–Ω

### –®–∞–≥ 4: –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è

```bash
cd legalbot
source venv/bin/activate

# –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è —Å —Ç–æ–∫–µ–Ω–æ–º
huggingface-cli login
# –í—Å—Ç–∞–≤—å —Å–≤–æ–π —Ç–æ–∫–µ–Ω –∏ –Ω–∞–∂–º–∏ Enter
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞ —Å–Ω–æ–≤–∞

```bash
python bot/main.py
```

–¢–µ–ø–µ—Ä—å Llama 3 –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è! ‚úÖ

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç—É—é –º–æ–¥–µ–ª—å (–ë–ï–ó –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—á–µ—à—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è, –∏—Å–ø–æ–ª—å–∑—É–π **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫—Ä—ã—Ç—É—é –º–æ–¥–µ–ª—å**.

### –í–∞—Ä–∏–∞–Ω—Ç A: Microsoft Phi-3 (3.8B) ‚≠ê –†–µ–∫–æ–º–µ–Ω–¥—É—é

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π `core/llm_manager.py`:

```python
# –ë—ã–ª–æ:
MODEL_NAME = "meta-llama/Meta-Llama-3-8B-Instruct"

# –°—Ç–∞–ª–æ:
MODEL_NAME = "microsoft/Phi-3-mini-4k-instruct"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- ‚úÖ –ú–µ–Ω—å—à–µ –ø–∞–º—è—Ç–∏ (3.8B vs 8B)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á

### –í–∞—Ä–∏–∞–Ω—Ç B: TinyLlama (1.1B) - –°–∞–º—ã–π –ª–µ–≥–∫–∏–π

```python
MODEL_NAME = "TinyLlama/TinyLlama-1.1B-Chat-v1.0"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è
- ‚úÖ –ú–∞–ª–æ –ø–∞–º—è—Ç–∏ (~2GB)
- ‚ö†Ô∏è –ö–∞—á–µ—Å—Ç–≤–æ —Ö—É–∂–µ

### –í–∞—Ä–∏–∞–Ω—Ç C: Mistral-7B-Instruct

```python
MODEL_NAME = "mistralai/Mistral-7B-Instruct-v0.3"
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –•–æ—Ä–æ—à–µ–µ –∫–∞—á–µ—Å—Ç–≤–æ
- ‚ö†Ô∏è –ù—É–∂–Ω–æ ~16GB RAM

---

## üöÄ –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ (–ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!)

### 1. –ò–∑–º–µ–Ω–∏—Ç—å –Ω–∞ Phi-3

```bash
cd legalbot
nano core/llm_manager.py
```

–ó–∞–º–µ–Ω–∏ —Å—Ç—Ä–æ–∫—É 14:
```python
MODEL_NAME = "microsoft/Phi-3-mini-4k-instruct"
```

–°–æ—Ö—Ä–∞–Ω–∏: `Ctrl+O`, Enter, `Ctrl+X`

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞

```bash
source venv/bin/activate
python bot/main.py
```

**–ì–æ—Ç–æ–≤–æ!** Phi-3 –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –±–µ–∑ –ø—Ä–æ–±–ª–µ–º! ‚úÖ

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π

| –ú–æ–¥–µ–ª—å | –†–∞–∑–º–µ—Ä | –¢—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é? | RAM | –ö–∞—á–µ—Å—Ç–≤–æ | –°–∫–æ—Ä–æ—Å—Ç—å |
|--------|--------|---------------------|-----|----------|----------|
| **Llama 3** | 8B | ‚úÖ –î–∞ | 16GB | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **Phi-3** | 3.8B | ‚ùå –ù–µ—Ç | 8GB | ‚≠ê‚≠ê‚≠ê‚≠ê | –ë—ã—Å—Ç—Ä–∞—è |
| **Mistral-7B** | 7B | ‚ùå –ù–µ—Ç | 16GB | ‚≠ê‚≠ê‚≠ê‚≠ê | –°—Ä–µ–¥–Ω—è—è |
| **TinyLlama** | 1.1B | ‚ùå –ù–µ—Ç | 2GB | ‚≠ê‚≠ê‚≠ê | –û—á–µ–Ω—å –±—ã—Å—Ç—Ä–∞—è |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–π **Llama 3** (–ø–æ–ª—É—á–∏ –¥–æ—Å—Ç—É–ø)
**–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** –ò—Å–ø–æ–ª—å–∑—É–π **Phi-3** (–±—ã—Å—Ç—Ä–æ –∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)

---

## üîÑ –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

1. –£–¥–∞–ª–∏ —Å—Ç–∞—Ä—ã–π –∫–µ—à (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
```bash
rm -rf ~/.cache/huggingface/hub/models--meta-llama*
```

2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ –±–æ—Ç–∞:
```bash
python bot/main.py
```

–ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∑–∞–Ω–æ–≤–æ! ‚úÖ

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –º–æ–¥–µ–ª—å—é! üöÄ

